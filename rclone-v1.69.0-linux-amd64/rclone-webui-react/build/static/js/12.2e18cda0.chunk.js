(this["webpackJsonp@rclone/rclone-webui-react"]=this["webpackJsonp@rclone/rclone-webui-react"]||[]).push([[12],{278:function(e,t,a){"use strict";var n=a(3);n.oneOfType([n.shape({Features:n.object.isRequired,Hashes:n.array.isRequired,Name:n.string.isRequired,Precision:n.number.isRequired,String:n.string.isRequired}),n.object]),n.shape({remoteName:n.string.isRequired,remotePath:n.string.isRequired}),n.string,n.bool,n.bool,n.shape({Path:n.string.isRequired,Name:n.string.isRequired,Size:n.number,MimeType:n.string,ModTime:n.string.isRequired,IsDir:n.bool.isRequired}),n.shape({rate:n.string.isRequired})},279:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"h",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return u})),a.d(t,"l",(function(){return c})),a.d(t,"k",(function(){return p})),a.d(t,"j",(function(){return m})),a.d(t,"i",(function(){return d})),a.d(t,"f",(function(){return h})),a.d(t,"a",(function(){return f})),a.d(t,"n",(function(){return y})),a.d(t,"m",(function(){return b})),a.d(t,"e",(function(){return g}));var n=a(2),o=a(282);const r=(e,t,a)=>o=>{o({type:n.j,id:e,remoteName:t,remotePath:a}),o(l(e))},s=(e,t)=>a=>{a({type:n.k,remoteName:t,id:e,remotePath:""}),a(l(e))},l=e=>(t,a)=>{const n=a(),{remoteName:r,remotePath:s}=n.explorer.currentPaths[e];r&&""!==r&&t(Object(o.e)(r,s))},i=(e,t)=>a=>{a({type:n.l,id:e,remotePath:t}),a(l(e))},u=e=>t=>{t({type:n.q,id:e})},c=e=>t=>{t({type:n.I,id:e})},p=e=>t=>{t({type:n.F,id:e}),t(l(e))},m=e=>t=>{t({type:n.E,id:e}),t(l(e))},d=e=>t=>{t({type:n.D,id:e}),t(l(e))},h=(e,t)=>a=>{a({type:n.o,id:e,filter:t})},f=(e,t)=>a=>{a({type:n.f,id:e,mode:t})},y=(e,t)=>a=>{a({type:n.m,id:e,searchQuery:t})},b=(e,t)=>a=>{a({type:n.i,id:e,payload:t})},g=(e,t,a)=>o=>{o({type:n.n,id:e,payload:{sortFilter:t,sortFilterAscending:a}})}},282:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return i})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return h}));var n=a(2),o=a(63),r=a(279),s=a(284);const l=e=>t=>{Object(s.getRemoteInfo)(e).then(a=>{t({type:n.v,status:n.L,payload:{[e.split(":")[0]]:a}})},e=>t({type:n.v,status:n.J,payload:e}))},i=()=>(e,t)=>{Object(s.getAllRemoteNames)().then(t=>e({type:n.A,status:n.L,payload:t.remotes}),t=>e({type:n.A,status:n.J,payload:t}))},u=(e,t)=>a=>{if(""!==e){const o="".concat(e,"-").concat(t);Object(s.getFilesList)(e,t).then(e=>a({type:n.w,status:n.L,payload:{path:o,filesList:e.list}}),e=>a({type:n.w,status:n.J,payload:{path:o,error:e}}))}},c=(e,t)=>a=>{if(!e||e<0)throw new Error("Invalid number of cols:".concat(e));a({type:n.h,payload:{numCols:e,mode:t}})},p=e=>t=>{const a=Object(o.l)(3);t(Object(r.g)(a)),t(d(a,e)),t({type:n.a,payload:{containerID:a,paneID:e}})},m=(e,t)=>a=>{a(Object(r.l)(e)),a({type:n.G,payload:{containerID:e,paneID:t}})},d=(e,t)=>a=>{a({type:n.b,payload:{containerID:e,paneID:t}})},h=e=>t=>{t({type:n.e,payload:e})}},294:function(e,t,a){"use strict";var n=a(5),o=a(6),r=a(276),s=a(13),l=a(0),i=a.n(l),u=a(3),c=a.n(u),p=a(34),m=a.n(p),d=a(26),h=["className","cssModule","inline","tag","innerRef"],f={children:c.a.node,inline:c.a.bool,tag:d.q,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),className:c.a.string,cssModule:c.a.object},y=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.submit=a.submit.bind(Object(r.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.inline,s=e.tag,l=e.innerRef,u=Object(o.a)(e,h),c=Object(d.m)(m()(t,!!r&&"form-inline"),a);return i.a.createElement(s,Object(n.a)({},u,{ref:l,className:c}))},t}(l.Component);y.propTypes=f,y.defaultProps={tag:"form"},t.a=y},345:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(331),s=a.n(r);const l=(e,t)=>{const a=t.trim().toLowerCase(),n=a.length;return 0===n?e:0===n?[]:e.filter(e=>e.toLowerCase().slice(0,n)===a)},i=e=>e,u=e=>o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-lg fa-hdd-o"})," ",e);class c extends o.a.Component{constructor(e){super(e),this.onSuggestionsFetchRequested=e=>{let{value:t}=e;this.setState({suggestions:l(this.props.suggestions,t)})},this.onSuggestionsClearRequested=()=>{this.setState({suggestions:[]})},this.state={suggestions:[]}}render(){const{value:e,onChange:t}=this.props,a={placeholder:"Type the name of remote you want to open",value:e,onChange:t};return o.a.createElement(s.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:i,renderSuggestion:u,alwaysRenderSuggestions:!0,highlightFirstSuggestion:!0,inputProps:a,style:{width:"100%"}})}}var p=c,m=a(87),d=a(282),h=a(279),f=a(294),y=a(43),b=a(296);a(278);class g extends o.a.Component{constructor(e){super(e),this.shouldUpdateRemoteName=(e,t)=>{let{newValue:a}=t;0===a.indexOf("/")?this.setState({remoteName:a,openButtonText:"Open local path"}):this.setState({remoteName:a,openButtonText:"Open"})},this.openRemote=e=>{e.preventDefault();const{handleChangeRemoteName:t}=this.props,{remoteName:a}=this.state;t(a)},this.state={isEmpty:!1,remoteName:e.remoteName,openEnabled:!1,openButtonText:"Open"}}componentDidMount(){this.props.getRemoteNames()}render(){const{isEmpty:e,remoteName:t}=this.state,{remotes:a}=this.props,{hasError:n}=this.props;return n?o.a.createElement("div",null,"Error loading remotes. Please try again."):e?o.a.createElement("div",null,"Add some remotes to see them here ",o.a.createElement("span",{role:"img","aria-label":"sheep"},"\ud83d\udc11"),"."):o.a.createElement(f.a,{onSubmit:this.openRemote,className:"row"},o.a.createElement(y.a,{xs:12,sm:10,lg:10},o.a.createElement(p,{value:t,onChange:this.shouldUpdateRemoteName,suggestions:a})),o.a.createElement(y.a,{xs:12,sm:2,lg:2},o.a.createElement(b.a,{className:"btn-lg",color:"success"},this.state.openButtonText)))}}g.defaultProps={};t.a=Object(m.b)((e,t)=>({remotes:e.remote.remotes,hasError:!1,error:e.remote.error,currentPath:e.explorer.currentPaths[t.containerID]}),{getRemoteNames:d.g,getFsInfo:d.f,changeRemoteName:h.c})(g)},377:function(e,t,a){"use strict";var n=a(5),o=a(6),r=a(0),s=a.n(r),l=a(3),i=a.n(l),u=a(34),c=a.n(u),p=a(26),m=["className","cssModule","valid","tooltip","tag"],d={children:i.a.node,tag:p.q,className:i.a.string,cssModule:i.a.object,valid:i.a.bool,tooltip:i.a.bool},h={tag:"div",valid:void 0},f=function(e){var t=e.className,a=e.cssModule,r=e.valid,l=e.tooltip,i=e.tag,u=Object(o.a)(e,m),d=l?"tooltip":"feedback",h=Object(p.m)(c()(t,r?"valid-"+d:"invalid-"+d),a);return s.a.createElement(i,Object(n.a)({},u,{className:h}))};f.propTypes=d,f.defaultProps=h,t.a=f},378:function(e,t,a){"use strict";var n=a(5),o=a(6),r=a(0),s=a.n(r),l=a(3),i=a.n(l),u=a(34),c=a.n(u),p=a(26),m=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],d={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:p.q,responsiveTag:p.q,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},h=function(e){var t=e.className,a=e.cssModule,r=e.size,l=e.bordered,i=e.borderless,u=e.striped,d=e.dark,h=e.hover,f=e.responsive,y=e.tag,b=e.responsiveTag,g=e.innerRef,E=Object(o.a)(e,m),v=Object(p.m)(c()(t,"table",!!r&&"table-"+r,!!l&&"table-bordered",!!i&&"table-borderless",!!u&&"table-striped",!!d&&"table-dark",!!h&&"table-hover"),a),T=s.a.createElement(y,Object(n.a)({},E,{ref:g,className:v}));if(f){var N=Object(p.m)(!0===f?"table-responsive":"table-responsive-"+f,a);return s.a.createElement(b,{className:N},T)}return T};h.propTypes=d,h.defaultProps={tag:"table",responsiveTag:"div"},t.a=h},663:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(87),s=a(62),l=a(43),i=a(296),u=a(378),c=a(64),p=a(45),m=a(2);const d=()=>e=>{c.a.post(p.a.listMounts).then(t=>{console.log(t),e({type:m.x,status:m.L,payload:t.data})},t=>{e({type:m.x,status:m.J,payload:t})})};var h=a(1),f=a(375),y=a(376),b=a(288),g=a(377),E=a(665),v=a(648),T=a(649),N=a(650),D=a(345);const O={CacheMaxAge:{Type:"int",Default:36e11},CacheMaxSize:{Type:"int",Default:-1,Help:""},CacheMode:{Type:"int",Options:[{value:"off",key:0},{value:"minimal",key:1},{value:"writes",key:2},{value:"full",key:3}],Default:0,Help:""},CachePollInterval:{Type:"int",Default:6e10,Help:""},CaseInsensitive:{Type:"bool",Default:!1,Help:""},ChunkSize:{Type:"int",Default:134217728,Help:""},ChunkSizeLimit:{Type:"int",Default:-1,Help:""},DirCacheTime:{Type:"int",Default:3e11,Help:""},DirPerms:{Type:"int",Default:511,Help:""},FilePerms:{Type:"int",Default:438,Help:""},GID:{Type:"int",Default:1e3,Help:""},NoChecksum:{Type:"bool",Default:!1,Help:""},NoModTime:{Type:"bool",Default:!1,Help:""},NoSeek:{Type:"bool",Default:!1,Help:""},PollInterval:{Type:"int",Default:6e10,Help:""},ReadAhead:{Type:"int",Default:0,Help:""},ReadOnly:{Type:"bool",Default:!1,Help:""},ReadWait:{Type:"int",Default:2e7,Help:""},UID:{Type:"int",Default:1e3,Help:""},Umask:{Type:"int",Default:2,Help:""},WriteBack:{Type:"int",Default:5e9,Help:""},WriteWait:{Type:"int",Default:1e9,Help:""}},M={AllowNonEmpty:{Type:"bool",Default:!1,Help:""},AllowOther:{Type:"bool",Default:!1,Help:""},AllowRoot:{Type:"bool",Default:!1,Help:""},AsyncRead:{Type:"bool",Default:!0,Help:""},AttrTimeout:{Type:"int",Default:1e9,Help:""},Daemon:{Type:"bool",Default:!1,Help:""},DaemonTimeout:{Type:"int",Default:0,Help:""},DebugFUSE:{Type:"bool",Default:!1,Help:""},DefaultPermissions:{Type:"bool",Default:!1,Help:""},ExtraFlags:{Type:"array",Default:[],Help:""},ExtraOptions:{Type:"array",Default:[],Help:""},MaxReadAhead:{Type:"int",Default:131072,Help:""},NoAppleDouble:{Type:"bool",Default:!0,Help:""},NoAppleXattr:{Type:"bool",Default:!1,Help:""},VolumeName:{Type:"string",Default:"",Help:""},WritebackCache:{Type:"bool",Default:!1,Help:""}};var R=a(63);const j=e=>{let{attr:t,changeHandler:a,currentValues:n,isValidMap:r,errorsMap:s}=e;const i="".concat(t.Name),u=t.Required?o.a.createElement("i",{className:"text-red"},"*"):null,c=!Object(R.j)(t.Examples);let p=null,m="";return t.Options||"options"===m?(m="select",p=t.Options.map(e=>o.a.createElement("option",{key:e.key,value:e.key},e.value))):t.IsPassword?m="password":c?m="string":"bool"===t.Type?(m="select",p=[o.a.createElement("option",{key:1,value:!0},"Yes"),o.a.createElement("option",{key:2,value:!1},"No")]):m="int"===t.Type?"number":(t.Type,"text"),o.a.createElement(f.a,{row:!0},o.a.createElement(y.a,{for:t.Name,sm:5},i,u),o.a.createElement(l.a,{sm:7},o.a.createElement(b.a,{type:m,value:n[t.Name]||t.Default,name:t.Name,valid:r[t.Name],invalid:!r[t.Name],id:t.Name,onChange:a,required:t.Required},p),o.a.createElement(g.a,null,s[t.Name])))},H=e=>{let{changeHandler:t,currentValues:a,isValidMap:n,errorsMap:r,options:s,setCurrentValues:l}=e;const i=[];for(const u in s)s.hasOwnProperty(u)&&i.push(o.a.createElement(j,{key:u,attr:Object(h.a)({Name:u},s[u]),changeHandler:e=>{e&&e.preventDefault(),t(e,s[u],a,l)},currentValues:a,errorsMap:r,isValidMap:n}));return i};var C=e=>{const{buttonLabel:t,className:a,okHandle:r}=e,[u,c]=Object(n.useState)(!1),[p,m]=Object(n.useState)(""),[d,j]=Object(n.useState)(""),[C,k]=Object(n.useState)((()=>{const e={};for(const t in O)e[t]="";for(const t in M)e[t]="";return e})()),[w,P]=Object(n.useState)((()=>{const e={};for(const t in O)e[t]=!0;for(const t in M)e[t]=!0;return e})()),[S,q]=Object(n.useState)({}),[x,A]=Object(n.useState)({}),I=()=>c(!u),F=(e,t,a,n)=>{let o=e.target.name,r=e.target.value;const s=t.Type;"bool"===s?r="true"===r:"int"===s&&(r=parseInt(r)),n(Object(h.a)(Object(h.a)({},a),{},{[o]:r}));let l=!0,i="";"SizeSuffix"===s?(l=Object(R.q)(r),l||(i="The valid input is size( off | {unit}{metric} eg: 10G, 100M, 10G100M etc.)")):"Duration"===s?(l=Object(R.o)(r),l||(i="The valid input is time ({unit}{metric} eg: 10ms, 100m, 10h15ms etc.)")):"int"===s&&(l=Object(R.p)(r),l||(i="The valid input is int (100,200,300 etc)")),!t.Required||r&&""!==r||(l=!1,l||(i+=" This field is required")),k(Object(h.a)(Object(h.a)({},C),{},{[o]:i})),P(Object(h.a)(Object(h.a)({},w),{},{[o]:l}))};return o.a.createElement("div",{"data-test":"newMountModalComponent"},o.a.createElement(i.a,{color:"primary",onClick:I},t),o.a.createElement(E.a,{isOpen:u,toggle:I,className:a},o.a.createElement(v.a,{toggle:I},"New Mount"),o.a.createElement(T.a,null,o.a.createElement(f.a,{row:!0},o.a.createElement(y.a,{for:"mountFs",sm:5},"Fs"),o.a.createElement(l.a,{sm:7},o.a.createElement(D.a,{remoteName:p,handleChangeRemoteName:m}),o.a.createElement(g.a,null))),p&&o.a.createElement(f.a,{row:!0},o.a.createElement(y.a,{for:"mountPoint",sm:5},"Mount Point"),o.a.createElement(l.a,{sm:7},o.a.createElement(b.a,{type:"text",value:d,name:"mountPoint",id:"mountPoint",onChange:e=>j(e.target.value),required:!0}),o.a.createElement(g.a,null))),o.a.createElement(s.a,null,o.a.createElement(l.a,{lg:6},o.a.createElement("p",null,"Mount Options"),o.a.createElement(H,{isValidMap:w,errorsMap:C,currentValues:x,setCurrentValues:A,changeHandler:F,options:M})),o.a.createElement(l.a,{lg:6},o.a.createElement("p",null,"VFS Options"),o.a.createElement(H,{isValidMap:w,errorsMap:C,currentValues:S,setCurrentValues:q,changeHandler:F,options:O})))),o.a.createElement(N.a,null,o.a.createElement(i.a,{"data-test":"ok-button",color:"primary",onClick:()=>{if(!r)throw new Error("Ok handle is null");r(p,d,S,x)},disabled:!p||!d},"Create")," ",o.a.createElement(i.a,{"data-test":"cancel-button",color:"secondary",onClick:I},"Cancel"))))};class k extends o.a.Component{constructor(e,t){super(e,t),this.handleRemoveMount=e=>{const{unmount:t}=this.props;t(e.MountPoint)},this.handleCreateNewMount=(e,t,a,n)=>{const{addMount:o}=this.props;o(e,t,"",a,n)},this.handleUnmountAll=()=>{const{unmountAll:e}=this.props;e()},this.state={showNewMountCard:!1}}componentDidMount(){const{getMountList:e}=this.props;e()}render(){const{currentMounts:e}=this.props;return o.a.createElement("div",{"data-test":"mountDashboardComponent"},o.a.createElement(s.a,null,o.a.createElement(l.a,{lg:12,className:"mb-4 d-flex justify-content-between"},o.a.createElement(C,{buttonLabel:"Create new mount",okHandle:this.handleCreateNewMount}),o.a.createElement(i.a,{className:"float-right",color:"danger",onClick:this.handleUnmountAll},"Unmount all"))),o.a.createElement(u.a,{responsive:!0,className:"table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"No."),o.a.createElement("th",null,"Mount Point"),o.a.createElement("th",null,"Mounted since"),o.a.createElement("th",null,"Fs"),o.a.createElement("th",null,"Actions"))),o.a.createElement("tbody",null,e&&e.map((e,t)=>o.a.createElement("tr",{key:e.MountPoint},o.a.createElement("td",null,t),o.a.createElement("td",null,e.MountPoint),o.a.createElement("td",null,new Date(e.MountedOn).toLocaleTimeString()),o.a.createElement("td",null,e.Fs),o.a.createElement("td",null,o.a.createElement(i.a,{color:"danger",onClick:()=>this.handleRemoveMount(e)},"Unmount")))))))}}t.default=Object(r.b)(e=>({currentMounts:e.mount.currentMounts}),{getMountList:d,addMount:(e,t,a,n,o)=>{e.endsWith(":")||(e+=":");const r=m.p;return s=>{c.a.post(p.a.createMount,{fs:e,mountPoint:t,mountType:a,vfsOpt:n,mountOpt:o}).then(e=>{s({type:r,status:m.L,payload:e.data})},e=>{s({type:r,status:m.J,payload:e})}),s(d())}},unmount:e=>{const t=m.H;return a=>{c.a.post(p.a.removeMount,{mountPoint:e}).then(e=>{a({type:t,status:m.L,payload:e.data})},e=>{a({type:t,status:m.J,payload:e})}),a(d())}},unmountAll:()=>{const e=m.H;return t=>{c.a.post(p.a.unmountAll).then(a=>{t({type:e,status:m.L,payload:a.data})},a=>{t({type:e,status:m.J,payload:a})}),t(d())}}})(k)}}]);
//# sourceMappingURL=12.2e18cda0.chunk.js.map