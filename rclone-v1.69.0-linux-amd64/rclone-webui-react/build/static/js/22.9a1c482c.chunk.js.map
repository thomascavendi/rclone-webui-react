{"version":3,"sources":["_nav.js","routes.js","containers/DefaultLayout/DefaultLayout.js","actions/versionActions.js"],"names":["items","name","url","icon","MyDashboard","React","lazy","Home","ShowConfig","RemoteExplorerLayout","routes","path","exact","component","DefaultFooter","DefaultHeader","VERSION_NAV_ITEM_ATTRS","attributes","target","class","variant","DefaultLayout","Component","constructor","arguments","loading","createElement","className","navigation","_objectSpread","this","props","version","componentDidMount","localStorage","getItem","AUTH_KEY","window","location","href","indexOf","LOGIN_TOKEN","history","push","getVersion","render","data-test","ErrorBoundary","AppHeader","fixed","Suspense","fallback","onLogout","e","signOut","AppSidebar","display","AppSidebarHeader","AppSidebarForm","AppSidebarNav","navConfig","AppSidebarFooter","AppSidebarMinimizer","AppBreadcrumb","appRoutes","Container","fluid","Switch","map","route","idx","Route","key","Redirect","from","to","AppFooter","connect","state","isConnected","status","dispatch","getRcloneVersion","then","res","type","GET_VERSION","REQUEST_SUCCESS","payload","error","REQUEST_ERROR"],"mappings":"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","file":"static/js/22.9a1c482c.chunk.js","sourcesContent":["export default {\n    items: [\n        {\n            name: 'Dashboard',\n            url: '/dashboard',\n            icon: 'icon-speedometer'\n        },\n        {\n            name: 'Configs',\n            url: '/showconfig',\n            icon: 'icon-note'\n        },\n        {\n            name: 'Explorer',\n            url: '/remoteExplorer',\n            icon: 'icon-screen-desktop'\n        },\n        {\n            name: 'Backend',\n            url: '/rcloneBackend',\n            icon: 'icon-star',\n        },\n        {\n            name: 'Mounts',\n            url: '/mountDashboard',\n            icon: 'fa fa-hdd-o'\n        },\n        {\n            name: 'Log Out',\n            url: '/login',\n            icon: 'icon-logout',\n        },\n\n    ],\n};\n","import React from 'react';\n\nconst MyDashboard = React.lazy(() => import('./views/RemoteManagement/NewDrive'));\nconst Home = React.lazy(() => import('./views/Home'));\nconst ShowConfig = React.lazy(() => import('./views/RemoteManagement/ShowConfig'));\nconst RemoteExplorerLayout = React.lazy(() => import(\"./views/Explorer/RemoteExplorerLayout\"));\nconst Login = React.lazy(() => import(\"./views/Pages/Login\"));\nconst RCloneDashboard = React.lazy(() => import(\"./views/RCloneDashboard\"));\nconst MountDashboard = React.lazy(() => import(\"./views/MountDashboard\"));\n\n// https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config\n// Define the routes as required\nconst routes = [\n    {path: '/', exact: true, name: 'Home'},\n    {path: '/newdrive/edit/:drivePrefix', name: 'Edit Remote', component: MyDashboard},\n    {path: '/newdrive', exact: true, name: 'New Remote', component: MyDashboard},\n    {path: '/login', exact: true, name: 'Login Page', component: Login},\n    {path: '/dashboard', name: 'Dashboard', component: Home},\n    {path: '/showconfig', name: 'Configs', component: ShowConfig},\n    {path: '/remoteExplorer/:remoteName/:remotePath', exact: true, name: 'Explorer', component: RemoteExplorerLayout},\n    {path: '/remoteExplorer', name: 'Explorer', component: RemoteExplorerLayout},\n    {path: '/rcloneBackend', name: 'Rclone Backend', component: RCloneDashboard},\n    {path: '/mountDashboard', name: 'Mount Dashboard', component: MountDashboard},\n\n];\n\nexport default routes;\n","import React, {Component, Suspense} from 'react';\nimport {Redirect, Route, Switch} from 'react-router-dom';\nimport {Container} from 'reactstrap';\nimport {getVersion} from \"../../actions/versionActions\";\n\nimport {\n    AppBreadcrumb,\n    AppFooter,\n    AppHeader,\n    AppSidebar,\n    AppSidebarFooter,\n    AppSidebarForm,\n    AppSidebarHeader,\n    AppSidebarMinimizer,\n    AppSidebarNav,\n} from '@coreui/react';\n// sidebar nav config\nimport navigation from '../../_nav';\n// routes config\nimport routes from '../../routes';\nimport {connect} from \"react-redux\";\nimport {AUTH_KEY, LOGIN_TOKEN} from \"../../utils/Constants\";\nimport ErrorBoundary from \"../../ErrorHandling/ErrorBoundary\";\n\n// const DefaultAside = React.lazy(() => import('./DefaultAside'));\nconst DefaultFooter = React.lazy(() => import('./DefaultFooter'));\nconst DefaultHeader = React.lazy(() => import('./DefaultHeader'));\n\nconst VERSION_NAV_ITEM_ATTRS = {\n    attributes: { target: '_blank' },\n    class: 'mt-auto',\n    icon: 'cui-cog',\n    url: 'https://rclone.org/changelog',\n    variant: 'success'\n}\nclass DefaultLayout extends Component {\n\n    loading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>;\n\n    get navConfig() {\n        return {\n            items: [\n                ...navigation.items,\n                {\n                    name: this.props.version.version,\n                    ...VERSION_NAV_ITEM_ATTRS\n                }\n            ]\n        }\n    }\n\n    componentDidMount() {\n        if (!localStorage.getItem(AUTH_KEY) || window.location.href.indexOf(LOGIN_TOKEN) > 0) {\n            this.props.history.push('/login');\n        } else {\n            this.props.getVersion();\n        }\n    }\n\n    render() {\n        // console.log(\"isConnected, default layout\", this.props.isConnected);\n        return (\n\n\n            <div className=\"app\" data-test=\"defaultLayout\">\n                <ErrorBoundary>\n                    <AppHeader fixed>\n                        <Suspense fallback={this.loading()}>\n                            <DefaultHeader onLogout={e => this.signOut(e)}/>\n                        </Suspense>\n                    </AppHeader>\n                    <div className=\"app-body\">\n                        <AppSidebar fixed display=\"lg\">\n                            <AppSidebarHeader/>\n                            <AppSidebarForm/>\n                            <Suspense fallback={this.loading()}>\n                                <AppSidebarNav navConfig={this.navConfig} />\n                            </Suspense>\n                            <AppSidebarFooter/>\n                            <AppSidebarMinimizer/>\n                        </AppSidebar>\n                        <main className=\"main\">\n                            <AppBreadcrumb appRoutes={routes}/>\n                            <Container fluid>\n                                <Suspense fallback={this.loading()}>\n                                    <Switch>\n                                        {\n                                            routes.map((route, idx) => {\n                                                return route.component ? (\n                                                    <Route\n                                                        key={idx}\n                                                        path={route.path}\n                                                        exact={route.exact}\n                                                        name={route.name}\n                                                        render={props => (\n                                                            <route.component {...props} />\n                                                        )}/>\n                                                ) : (null);\n                                            })\n                                        }\n                                        <Redirect from=\"/\" to=\"/dashboard\"/>\n                                    </Switch>\n                                </Suspense>\n                            </Container>\n                        </main>\n                    </div>\n                    <AppFooter>\n                        <Suspense fallback={this.loading()}>\n                            <DefaultFooter/>\n                        </Suspense>\n                    </AppFooter>\n                </ErrorBoundary>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isConnected: state.status.isConnected,\n    version: state.version,\n});\n\nexport default connect(mapStateToProps, { getVersion })(DefaultLayout);\n","import {GET_VERSION, REQUEST_ERROR, REQUEST_SUCCESS} from './types';\nimport {getRcloneVersion} from \"rclone-api\";\n\nexport const getVersion = () => {\n    return dispatch => {\n        getRcloneVersion().then(\n            res =>\n                dispatch({\n                    type: GET_VERSION,\n                    status: REQUEST_SUCCESS,\n                    payload: res\n                }),\n            error =>\n                dispatch({\n                    type: GET_VERSION,\n                    status: REQUEST_ERROR,\n                    payload: error\n                })\n        );\n    };\n};\n"],"sourceRoot":""}